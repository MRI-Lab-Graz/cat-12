[MATLAB]
# Path to MATLAB executable
# macOS example: /Applications/MATLAB_R2025b.app/bin/matlab
# Linux example: /usr/local/MATLAB/R2025b/bin/matlab
# Recommended: set to `matlab` (from PATH) if you have MATLAB installed.
# Leave empty to auto-detect or to fall back to standalone mode.
exe = matlab

# When true, allow MATLAB to create graphics windows (do NOT pass -nodisplay).
# Set to false to force fully headless execution (adds -nodisplay). Default: false
allow_graphics = false

[SPM]
# Path to SPM installation (optional)
# If not specified, SPM will be auto-detected in MATLAB
# Examples: /home/user/spm12, /Volumes/data/spm25
path =

[PYTHON]
# Python 3 executable
# Usually auto-detected as 'python3'
# Specify full path only if needed: /usr/bin/python3
exe = python3

[ANALYSIS]
# Default analysis modality: vbm, thickness, depth, gyrification, fractal
modality = vbm

# Smoothing kernel in mm (auto-detects from CAT12 files if empty)
smoothing = 9

# Group column name in participants.tsv (auto-detect if empty)
group_col =

# Session column name (default: session)
session_col = session

# Sessions to include: "all" or comma-separated list like "1,2,3"
sessions = all

# Covariates to include (comma-separated): age,sex,tiv
covariates = age,sex,tiv

# Automatically standardize (z-score) continuous covariates (true/false)
standardize_continuous_variables = true

[SCREENING]
# Uncorrected p-value threshold for initial screening
uncorrected_p = 0.001

# Minimum cluster size for screening (number of voxels)
cluster_size = 50

# Skip screening and run TFCE on all contrasts (true/false)
skip_screening = false

[TFCE]
# Enable TFCE permutation testing (true/false)
enabled = false

# Number of TFCE permutations (5000 recommended for publication)
n_perm = 2000

# Use pilot mode: 100 permutations for quick testing (true/false)
pilot_mode = false
 
# Missing-voxel diagnostics: fail the pipeline if more than this percent of voxels
# are excluded due to missing data. Set to an integer percent (e.g. 10). Leave
# empty or 0 to disable automatic failure.
missing_fail_pct = 10

# Permutation method for nuisance variables: smith, draper-stoneman, or freedman-lane.
# Smith is the default and recommended. Draper-Stoneman is used automatically if no nuisance variables are found.
nuisance_method = smith

# Set to true for 2D optimization (e.g., for TBSS data). Default: false
tbss = false

# Enable multi-threading for TFCE calculations. Recommended: true.
# On some systems (especially Windows), this may need to be set to false.
multi_threading = true

# Optional: Stop permutations early if no FWE-corrected effects are found.
# Set to the number of permutations to check after (e.g., 1000).
# Set to 0 or leave empty to disable.
n_perm_break = 0

# Initial (probe) permutations used by the automatic two-stage TFCE strategy.
# A small value (e.g., 100) is recommended for a fast diagnostic pass.
initial_perm = 100

[THRESHOLDING]
# Enable CAT12 double thresholding (true/false)
# This transforms SPM-maps to (log-scaled) p-maps or correlation maps.
double_threshold = true

# Uncorrected p-value threshold (default: 0.001)
p_unc = 0.001

# FWE corrected p-value threshold (default: 0.05)
p_fwe = 0.05

# Both directions (true/false)
both_directions = true

# Log-scaled p-maps (true/false)
log_scaled = true

# Optional: cluster extent (voxels) for double-thresholding. If empty, falls back to
# SCREENING cluster_size.
cluster_size = 

[PERFORMANCE]
# Number of parallel TFCE jobs (adjust based on CPU cores)
parallel_jobs = 4

# Memory limit in GB (optional, leave empty for unlimited)
# Useful if running on memory-constrained systems
memory_limit_gb = 

[OUTPUT]
# Default output base directory
# Leave empty to use results/ in script directory
output_dir = 

# Analysis name (auto-generated if empty)
analysis_name =

# Delete existing results before starting (true/false)
force_clean = false

# Keep intermediate temporary files (true/false)
keep_temp = false

[MASKING]
# Use VBM mask for volume analyses (true/false)
# Path to mask file in templates/brainmask_GMtight.nii
use_mask = true
# Default GM mask (relative to repo root or absolute path). If empty, the
# pipeline will prefer `templates/brainmask_GMtight.nii` when present.
gm_mask = templates/brainmask_GMtight.nii
